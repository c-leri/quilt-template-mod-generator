<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="icon" href="res/favicon.ico">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script type="module">
        import { init_versions, reload_mc_versions, reload_q_dpendencies_list } from './js/init_versions.js';
        import { gen_and_download_zip } from './js/generate_prj.js';

        window.onload = () => {
            init_versions();

            document.getElementById("mcVersion").addEventListener("change", () =>
                reload_q_dpendencies_list(event.target.value)
            );

            document.getElementById("mcStable").addEventListener("change", () => reload_mc_versions(event.target.checked));

            document.getElementById("gen").addEventListener("click", gen_and_download_zip);
        }
    </script>
    <title>Quilt Template Mod Generator</title>
</head>

<body>
    <nav id="pageHeader">
        <a href="." style="text-decoration: none">
            <img src="res/logo.svg" class="inNav" alt="" width="32" height="32">
        </a>
        <a href="https://github.com/Jaffe2718/quilt-template-mod-generator" style="text-decoration: none;">
            <label class="inNav">Source</label>
        </a>
        <a href="https://github.com/Jaffe2718/quilt-template-mod-generator/issues" style="text-decoration: none;">
            <label class="inNav">Issues</label>
        </a>
    </nav>
    <h1>Quilt Template Mod Generator</h1>
    <div id="main">
        <h2>Project Configuration</h2>
        <div>
            <label for="artifactID">Artifact ID</label>
            <input type="text" id="artifactID" name="artifactID" placeholder="example_mod" required>
        </div>
        <div>
            <label for="groupID">Group ID</label>
            <input type="text" id="groupID" name="groupID" placeholder="me.example" required>
        </div>
        <div>
            <label for="gradleVersion">Gradle Version</label>
            <select id="gradleVersion">
            </select>
        </div>

        <h2>Mod Configuration</h2>
        <div>
            <label for="modName">Mod name</label>
            <input type="text" id="modName" name="modName" placeholder="modName" required>
        </div>
        <div>
            <label for="modVersion">Mod version</label>
            <input type="text" id="modVersion" name="modVersion" placeholder="modVersion" required>
        </div>
        <div>
            <label for="environment">Environment</label>
            <select id="environment">
                <option value="both">Both</option>
                <option value="client">Client</option>
                <option value="server">Server</option>
            </select>
        </div>

        <h2>Dependencies Configuration</h2>
        <div>
            <label for="mcVersion">Minecraft version</label>
            <select id="mcVersion">
            </select>
            <label id="mcStableLabel" for="mcStable">Stable?</label>
            <input type="checkbox" id="mcStable" name="stable" checked>
        </div>
        <div>
            <label for="loaderVersion">Quilt loader version</label>
            <select id="loaderVersion"></select>
        </div>
        <div>
            <label for="quiltMapping">Quilt Mappings</label>
            <select id="quiltMapping"></select>
        </div>
        <div>
            <label for="qfapiVersion" id="lbQfapiVersion">Quilted Fabric API (QFAPI)</label>
            <select id="qfapiVersion"></select>
        </div>
        <div>
            <label for="useMixins">Use Mixins?</label>
            <input id="useMixins" type="checkbox" checked />
        </div>

        <details id="optional_settings">
            <summary>
                <h2>Optional Settings</h2>
            </summary>
            <div>
                <label for="license">License</label>
                <select id="license">
                    <option>No License</option>
                    <option>The Unlicense</option>
                    <option>Creative Commons Zero</option>
                    <option>GNU Lesser General Public License v3.0</option>
                    <option>MIT License</option>
                    <option>Apache License 2.0</option>
                </select>
                <p class="details">For more information see <a href="https://blog.modrinth.com/p/licensing-guide">https://blog.modrinth.com/p/licensing-guide</a></p>
            </div>
            <div>
                <label for="description">Description</label>
                <textarea id="description" name="description" placeholder="description" rows="5"></textarea>
            </div>
            <div>
                <label for="author">Author</label>
                <input type="text" id="author" name="author" placeholder="author" />
            </div>
            <div>
                <label for="homepage">Homepage</label>
                <input type="text" id="homepage" name="homepage" placeholder="homepage" />
            </div>
            <div>
                <label for="sourceRepo">Source Repository</label>
                <input type="text" id="sourceRepo" name="source" placeholder="source" />
            </div>
            <div>
                <label for="issues">Issues</label>
                <input type="text" id="issues" name="issues" placeholder="issues" />
            </div>
        </details>
    </div>
    <div style="text-align: center">
        <button id="gen">
            Generate
        </button>
    </div>
    <div id="pageFooter">
        <span>
            This page is powered by
            <a href="https://pages.github.com">GitHub Pages</a>.
        </span>
    </div>
</body>

</html>